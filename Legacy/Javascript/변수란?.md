---
title: 변수란 무엇인가
date: "2020-10-25T22:12:03.284Z"
description: "변수를 깊게 또는 넓게 바라보자"
tags: ['변수', '프로그래밍', 'javascript', 구현 패턴]
---

## 변수에 대해 생각해보기
변수란 **어떤 데이터가 어떤 위치에 놓여져 있는 형태**를 말합니다.
변수는 그 자체가 변할 수 있다는 성질을 갖고 있기 때문에, 프로그램을 작성할 때 변수의 의미가 명확하지 않으면 그로 인해 다양한 문제가 발생될 수 있습니다.


그렇기 때문에 변수는 목적에 맞게 표현해야 프로그램의 의도를 옳바르게 이해할 수 있으며,
변할 수 있는 성질을 갖고 있기 때문에 최소한으로 사용되는 것이 좋습니다.

우리는 변수를 정의한 위 문장을 통해 변수를 두 가지 관점으로 바라볼 수 있습니다.

### 변수와 데이터
- 데이터는 우리가 사용하고자 하는 정보를 뜻하며 정보의 형태는 매우 다양합니다. 숫자, 문자, 객체, 함수 등 다양한 형태로 존재할 수 있습니다.
  
  따라서 우리는 변수가 갖고 있는 정보를 코드로 표현할 때 변수가 담는 데이터의 형태에 따라 구분지어 표현해야한다고 볼 수 있습니다.

  또한 변수가 담고있는 데이터의 형태는 일관성있게 사용되는 것이 좋습니다. 전혀 다른 데이터의 형태가 한 공간에서 사용되면, 
  그 변수가 사용되는 로직은 각 타입별로 대응할 수 있도록 처리해야하는 로직이 추가로 필요하기 때문입니다.

### 변수와 공간(사용 범위)
  - 데이터가 존재하는 영역 또한 목적에 맞게 분류되어 있습니다. 프로그램이 시작하고 끝날 때까지 유지하며 계속 사용되어야 하는 곳도 있고,
  단순한 로직을 위해 그 로직이 동작하는 과정에만 사용되고 다시 회수되는 휘발성을 갖고있는 데이터도 있습니다. 
  
  이처럼 변수는 어떤 곳에서 무엇을 위해 사용되는 지도 
  변수마다 다를 수 있는 점을 알 수 있으며, 그 차이를 생각하며 변수를 나타내야 한다는 것을 느낄 수 있습니다.

### 변수를 사용해야 할 때 생각해야하는 것들

지금까지 우리가 변수를 사용하면서 생각해야하는 점들을 종합해보면 다음과 같습니다.

- 변수는 변한다는 성질을 갖고 있기 때문에 그 '변함'의 범위에 따라 대응해야하는 로직이 추가로 필요합니다.
- 따라서 변수가 어떤 일관성을 갖고 있으면 그만큼 예측 불가능한 부분이 줄어들기 때문에 가능한 일관성을 갖고 있도록 지향해야 합니다.
- 변수가 갖는 일관성의 예로는 '데이터 타입', '사용되는 공간'으로 나타낼 수 있습니다. 데이터 타입을 한정해서 사용하면 다른 데이터 타입에 대한 대응을 할 필요가 없어집니다. 사용되는 공간이 표현되면 그 변수를 생각해야하는 범위가 정해지기 때문에 예측가능하기 쉽습니다.
- 또한 변수가 사용되는 목적은 그 변수가 사용되는 프로그램이 작성된 의도를 더 쉽게 이해할 수 있도록 도와주기 때문에 
변수가 사용되는 목적이 변수 이름 안에 담겨있으면 코드를 통해 더 효율적으로 커뮤니케이션할 수 있는 효과가 있습니다.

## 자바스크립트의 변수 식별자
우리가 변수를 정의함과 동시에 하는 일은 변수를 선언하는 키워드와 변수 이름(식별자)를 작성하는 것입니다.
변수의 이름을 정의할 땐 변수가 갖는 데이터의 특성, 변수가 사용되는 목적, 변수가 저장되는 공간 등 그 변수의 존재와 관련된 여러가지 요소들을 고려해 작성합니다.

다음으로 이름과는 별개로 코드를 해석하는 컴파일러가 변수의 선언과 함께 목적에 따라 구분지어주는 키워드와 변수가 선언되는 과정을 살펴보겠습니다.

## 변수가 선언(초기화)되는 과정

우리가 변수를 통해 데이터를 사용하는 과정은 메모리라는 특정한 공간을 활용합니다. 변수를 통해 데이터를 메모리 공간에서 어떻게 활용되는 지 알아보겠습니다.

1. 선언: 스코프와 변수 객체가 생성되고, 스코프 내에서 변수 객체에 접근할 수 있도록 변수 객체를 참조합니다.
2. 초기화: 변수 객체가 값을 저장하기 위해 메모리 공간을 할당받고, 초기값으로 할당받은 메모리 공간에 undefined 값을 할당합니다.
3. 할당: 초기화 과정이 끝난 변수 객체에 데이터 값을 할당합니다.

## 자바스크립트의 변수

1. var
  - var 키워드는 ES6 이전에 변수를 선언하는 유일한 키워드입니다. 
  - var 키워드로 선언된 변수는 재할당이 가능합니다.
  - 같은 이름으로 중복 선언이 가능합니다.
  - 선언과 초기화가 함께 이루어집니다.


2. let, const

  - let은 var의 역할과 같이 재할당이 가능한 변수이며, 
  - const는 재할당이 불가능한 상수 역할을 하는 변수 키워드입니다.
  - 중복 선언을 허용하지 않습니다.
  - let과 const는 선언 전에 식별자를 호출하는 것을 허용하지 않습니다.
  - 선언과 초기화과정이 분리되어 있다. let과 const 키워드는 선언 이후 초기화의 과정을 거치는 역할을 하며,
  let과 const는 초기화의 과정을 거쳐야지만 값에 접근할 수 있는 제약조건을 갖고있다.
  (let,const 키워드 자체가 값을 할당하기 위한 메모리 공간을 할당받고, 초기값인 undefined값을 할당하는 역할을 한다.)

### 변수 호이스팅 (Hoisting)

자바스크립트는 변수의 선언을 하는 과정과 값을 할당하는 과정이 연속이지 않습니다.
변수의 선언문 자체가 함수 또는 전역 코드의 상단에 이동하는 것과 같은 행동을 호이스팅이라고 부릅니다.
호이스팅이 끝난 이후에 값을 할당하며, ES6 또는 strict mode 여부에 따라 실행 결과에 문제가 발생되곤 합니다. (TDZ)

1. 변수의 선언은 코드가 실행되기 직전에 먼저 진행됨.
2. 변수의 식별자들은 먼저 (실행 컨텍스트 기반의)최상위에서 undefined 값을 할당받게 됨.
3. 변수의 선언 과정이 끝나면 코드의 실행과 함께 정의해놓은 값을 할당하게 됨.

변수의 선언을 하지 않고 바로 특정 식별자에 값을 할당하는 경우는
1. ES5: 전역 범위에 그 변수를 먼저 선언하는 과정이 진행되어 에러가 발생하지 않습니다.
2. Strict Mode: Reference Error를 출력합니다.
3. let,const: 선언 전에 키워드를 접근할 수 없기 때문에 Reference Error를 출력합니다.